<!DOCTYPE html>
<html lang="ar" dir="rtl">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>اتصل بنا - عقارات الغردقة</title>
    <link href="../output.css" rel="stylesheet" />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"
    />
  </head>
  <body class="font-sans text-gray-700">
    <!-- Header -->
    <nav class="bg-white shadow-md fixed top-0 w-full z-50">
      <div
        class="max-w-7xl mx-auto px-4 py-3 flex items-center justify-between"
      >
        <div class="flex items-center font-bold text-lg text-gray-900">
          <img
            src="../img/header.png"
            alt="شعار عقارات الغردقة"
            class="h-6 w-auto mr-2"
          />
          عقارات الغردقة
        </div>
        <button
          title="زر القائمة"
          class="md:hidden text-gray-700"
          id="menu-btn"
        >
          <i class="fas fa-bars fa-lg"></i>
        </button>
        <div
          id="menu"
          class="absolute top-16 left-0 w-full bg-white flex flex-col space-y-4 p-4 transform transition-all duration-500 ease-in-out opacity-0 -translate-y-10 md:pointer-events-auto pointer-events-none md:static md:w-auto md:flex md:flex-row md:items-center md:space-y-0 md:space-x-6 md:opacity-100 md:translate-y-0 md:bg-transparent md:p-0 md:justify-end z-40"
        >
          <a href="../index.html" class="hover:text-blue-700">الرئيسية</a>
          <a href="properties-list.html" class="hover:text-blue-700"
            >العقارات</a
          >
          <a href="about.html" class="hover:text-blue-700">من نحن</a>
          <a
            href="contact.html"
            class="text-blue-700 font-semibold transition-colors duration-200 hover:text-blue-800"
            >اتصل بنا</a
          >
        </div>
      </div>
    </nav>

    <div id="toast" class="fixed top-6 left-6 z-50 hidden">
      <div
        id="toast-content"
        class="flex items-center p-4 rounded-lg shadow-lg text-white text-sm font-medium transition-all duration-300"
      ></div>
    </div>

    <!-- Contact Section -->
    <section class="py-16">
      <div class="container mx-auto px-6">
        <div class="text-center mb-12">
          <h2 class="text-3xl font-bold mb-2">اتصل بنا</h2>
          <p class="text-gray-600">
            هل تبحث عن عقار أحلامك؟ تواصل مع فريقنا المتخصص اليوم.
          </p>
        </div>

        <div class="grid md:grid-cols-2 gap-12">
          <!-- Contact Info -->
          <div class="space-y-6">
            <div>
              <h3 class="font-semibold text-lg flex">
                <img src="../img/contact_phone.png" alt="" class="ml-2" />
                الهاتف
              </h3>
              <p>+20 65 123 4567</p>
              <p>+20 65 123 4568</p>
            </div>
            <div>
              <h3 class="font-semibold text-lg flex">
                <img src="../img/contact_email.png" alt="" class="ml-2" />
                البريد الإلكتروني
              </h3>
              <p>info@hurghadaestates.com</p>
              <p>sales@hurghadaestates.com</p>
            </div>
            <div>
              <h3 class="font-semibold text-lg flex">
                <img src="../img/contact_loc.png" alt="" class="ml-2" /> العنوان
              </h3>
              <p>حي المارينا<br />الغردقة، محافظة البحر الأحمر<br />مصر</p>
            </div>
            <div>
              <h3 class="font-semibold text-lg flex">
                <img src="../img/contact_clock.png" alt="" class="ml-2" /> ساعات
                العمل
              </h3>
              <p>السبت - الخميس: 9:00 ص - 6:00 م</p>
              <p>الجمعة: 2:00 م - 6:00 م</p>
            </div>
            <div>
              <h3 class="font-semibold text-lg">موقعنا</h3>
              <iframe
                src="https://www.google.com/maps?q=Hurghada&output=embed"
                width="100%"
                height="250"
                class="rounded border"
                allowfullscreen=""
                loading="lazy"
              ></iframe>
            </div>
          </div>

          <!-- Contact Form -->
          <div
            class="bg-white p-8 rounded-2xl shadow-xl border border-gray-100"
          >
            <form id="contactForm" class="space-y-6">
              <div class="grid md:grid-cols-2 gap-6">
                <div>
                  <label class="block text-sm font-medium text-gray-700 mb-1"
                    >الاسم الكامل *</label
                  >
                  <input
                    title="الاسم"
                    type="text"
                    name="senderName"
                    class="w-full px-4 py-3 rounded-lg border border-gray-300 focus:ring-2 focus:ring-blue-500 focus:outline-none transition placeholder:font-light placeholder:italic"
                    required
                  />
                </div>
                <div>
                  <label class="block text-sm font-medium text-gray-700 mb-1"
                    >البريد الإلكتروني *</label
                  >
                  <input
                    title="البريد الالكتروني"
                    type="email"
                    name="senderEmail"
                    class="w-full px-4 py-3 rounded-lg border border-gray-300 focus:ring-2 focus:ring-blue-500 focus:outline-none transition placeholder:font-light placeholder:italic"
                    required
                  />
                </div>
              </div>
              <div class="grid md:grid-cols-2 gap-6">
                <div>
                  <label class="block text-sm font-medium text-gray-700 mb-1"
                    >رقم الهاتف</label
                  >
                  <input
                    title="الهاتف"
                    type="text"
                    name="phoneNumber"
                    class="w-full px-4 py-3 rounded-lg border border-gray-300 focus:ring-2 focus:ring-blue-500 focus:outline-none transition placeholder:font-light placeholder:italic"
                  />
                </div>
                <div>
                  <label class="block text-sm font-medium text-gray-700 mb-1"
                    >الموضوع</label
                  >
                  <select
                    class="w-full px-4 py-3 rounded-lg border border-gray-300 focus:ring-2 focus:ring-blue-500 focus:outline-none transition"
                  >
                    <option>اختر الموضوع</option>
                    <option>استفسار عن عقار</option>
                    <option>تحديد موعد زيارة</option>
                    <option>سؤال عام</option>
                  </select>
                </div>
              </div>
              <div>
                <label class="block text-sm font-medium text-gray-700 mb-1"
                  >الرسالة *</label
                >
                <textarea
                  title="الموضوع"
                  rows="5"
                  name="body"
                  class="w-full px-4 py-3 rounded-lg border border-gray-300 focus:ring-2 focus:ring-blue-500 focus:outline-none transition placeholder:font-light placeholder:italic resize-none"
                  required
                ></textarea>
              </div>
              <button
                type="submit"
                class="mt-4 inline-flex items-center justify-center gap-2 bg-blue-600 text-white font-medium px-6 py-3 rounded-lg hover:bg-blue-700 transition duration-200 shadow-md"
              >
                <i class="fas fa-paper-plane"></i> إرسال الرسالة
              </button>
            </form>
          </div>
        </div>
      </div>
    </section>

    <div id="toast" class="fixed top-6 left-6 z-50 hidden">
      <div
        id="toast-content"
        class="flex items-center p-4 rounded-lg shadow-lg text-white text-sm font-medium transition-all duration-300"
      ></div>
    </div>

    <!-- Footer -->
    <footer class="bg-gray-900 text-gray-300 py-10">
      <div
        class="max-w-6xl mx-auto grid grid-cols-1 md:grid-cols-3 gap-12 px-4"
      >
        <div>
          <div class="flex items-center mb-2">
            <img src="../img/footer.png" alt="الشعار" class="h-6 w-auto ml-2" />
            <h4 class="text-white font-bold text-base">عقارات الغردقة</h4>
          </div>
          <p class="text-sm">
            شريكك الموثوق للعثور على العقار المثالي في الغردقة. متخصصون في الفلل
            الفاخرة، الشقق الحديثة، واستثمارات الأراضي المميزة.
          </p>
          <div class="flex space-x-4 mt-4 text-white text-lg">
            <a href="#" class="hover:text-blue-400"
              ><i class="fab fa-facebook-f"></i
            ></a>
            <a href="#" class="hover:text-pink-400"
              ><i class="fab fa-instagram"></i
            ></a>
            <a href="#" class="hover:text-blue-300"
              ><i class="fab fa-twitter"></i
            ></a>
          </div>
        </div>

        <div>
          <h4 class="text-white font-bold mb-2">معلومات الاتصال</h4>
          <ul class="text-sm space-y-2">
            <li class="flex items-center">
              <img
                src="../img/contact.png"
                alt="هاتف"
                class="h-4 w-4 ml-2"
              />+20 65 123 4567
            </li>
            <li class="flex items-center">
              <img
                src="../img/mail.png"
                alt="بريد"
                class="h-4 w-4 ml-2"
              />info@hurghadaestates.com
            </li>
            <li class="flex items-center">
              <img
                src="../img/location2.png"
                alt="موقع"
                class="h-4 w-4 ml-2"
              />الغردقة، البحر الأحمر، مصر
            </li>
          </ul>
        </div>

        <div>
          <h4 class="text-white font-bold mb-2">روابط سريعة</h4>
          <ul class="text-sm space-y-2">
            <li>
              <a href="../index.html" class="hover:underline">الرئيسية</a>
            </li>
            <li>
              <a href="properties-list.html" class="hover:underline"
                >العقارات</a
              >
            </li>
            <li><a href="about.html" class="hover:underline">من نحن</a></li>
            <li><a href="contact.html" class="hover:underline">اتصل بنا</a></li>
          </ul>
        </div>
      </div>
      <div
        class="border-t border-gray-700 mt-8 pt-4 text-center text-sm text-gray-400"
      >
        © 2025 عقارات الغردقة. جميع الحقوق محفوظة.
      </div>
    </footer>
    <script>
      const menuBtn = document.getElementById("menu-btn");
      const menu = document.getElementById("menu");

      menuBtn.addEventListener("click", () => {
        const isOpen = menu.classList.contains("menu-open");

        if (isOpen) {
          // Close menu
          menu.classList.remove("menu-open");
          menu.classList.add(
            "opacity-0",
            "-translate-y-10",
            "pointer-events-none"
          );
          menu.classList.remove(
            "opacity-100",
            "translate-y-0",
            "pointer-events-auto"
          );
        } else {
          // Open menu with animation
          menu.classList.add("menu-open");
          menu.classList.remove(
            "opacity-0",
            "-translate-y-10",
            "pointer-events-none"
          );
          // Force reflow so transition triggers
          void menu.offsetWidth;
          menu.classList.add(
            "opacity-100",
            "translate-y-0",
            "pointer-events-auto"
          );
        }
      });

      document.addEventListener("click", (e) => {
        const menuIsOpen = menu.classList.contains("menu-open");
        const isSmallScreen = window.innerWidth < 768;

        if (
          menuIsOpen &&
          isSmallScreen &&
          !menu.contains(e.target) &&
          !menuBtn.contains(e.target)
        ) {
          // Close menu
          menu.classList.remove("menu-open");
          menu.classList.add(
            "opacity-0",
            "-translate-y-10",
            "pointer-events-none"
          );
          menu.classList.remove(
            "opacity-100",
            "translate-y-0",
            "pointer-events-auto"
          );
        }
      });

      const showToast = (message, type = "success") => {
        const toast = document.getElementById("toast");
        const toastContent = document.getElementById("toast-content");

        toastContent.innerHTML = `
      <i class="fas ${
        type === "success" ? "fa-check-circle" : "fa-exclamation-circle"
      } mr-2 text-lg"></i>
      <span>${message}</span>
    `;

        toastContent.className = `flex items-center p-4 rounded-lg shadow-lg text-white text-sm font-medium transition-all duration-300 ${
          type === "success" ? "bg-green-600" : "bg-red-600"
        }`;

        toast.classList.remove("hidden");
        toast.classList.add("opacity-100");

        setTimeout(() => {
          toast.classList.add("hidden");
        }, 4000);
      };

      document
        .getElementById("contactForm")
        .addEventListener("submit", async function (e) {
          e.preventDefault();
          const form = e.target;

          const payload = {
            senderName: form.senderName.value.trim(),
            senderEmail: form.senderEmail.value.trim(),
            phoneNumber: form.phoneNumber.value.trim(),
            body: form.body.value.trim(),
          };

          try {
            const response = await fetch("/api/Messages", {
              method: "POST",
              headers: {
                "Content-Type": "application/json",
              },
              body: JSON.stringify(payload),
            });

            if (response.ok) {
              showToast("Your message has been sent successfully!", "success");
              form.reset();
            } else {
              showToast("Error: message not sent try agin", "error");
            }
          } catch (error) {
            showToast("Failed to send message: " + error.message, "error");
          }
        });
    </script>
  </body>
</html>
